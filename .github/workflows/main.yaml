name: PetBuddy
on: 
  push:
    branches:
      - master
      - petbuddy/version-1

jobs: 
  PetBuddy:
    runs-on: macos-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
    - name: Install dependencies
      run: npm install
    - name: Install CocoaPods
      run: |
        sudo gem install cocoapods

    - name: Install Pod dependencies
      run: |
        cd ios
        pod install
    - name: Build Android
      run : npm run build-android
    - name: Build IOS
      run : npm run build-ios
    - name: Run tests
      run: npm test